(()=>{"use strict";const t=(t,e,i)=>{t&&e&&i&&{transform(){e.style.webkitTransform=i,e.style.MozTransform=i,e.style.msTransform=i,e.style.OTransform=i,e.style.transform=i},transformOrigin(){e.style.webkitTransformOrigin=i,e.style.MozTransformOrigin=i,e.style.msTransformOrigin=i,e.style.OTransformOrigin=i,e.style.transformOrigin=i},transition(){e.style.webkitTransition=i,e.style.MozTransition=i,e.style.msTransition=i,e.style.OTransition=i,e.style.transition=i},transitionDelay(){e.style.webkitTransitionDelay=i,e.style.MozTransitionDelay=i,e.style.msTransitionDelay=i,e.style.OTransitionDelay=i,e.style.transitionDelay=i}}[t]()},e={},i=(t,i=[])=>{if(!Object.getOwnPropertyDescriptor(e,t))return;const s=e[t];s&&s.forEach((t=>{t(i)}))},s=()=>{const t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||"");return t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop},r={},n=[{prop:"nav",selector:".c-nav"}];document.addEventListener("DOMContentLoaded",(()=>{let e=!1;const o=window.matchMedia("(prefers-reduced-motion: reduce)");o&&!o.matches||(e=!0),((t,e,i=(()=>{}))=>{const s=(r,n,o,a=document)=>{if(r<o){const t=n[r];let i=!1,h=!1,l=null;Object.getOwnPropertyDescriptor(t,"all")&&(i=!0),Object.getOwnPropertyDescriptor(t,"array")&&(h=!0),i?a&&(l=a.querySelectorAll(t.selector)):a&&(l=a.querySelector(t.selector)),h&&(l=Array.from(l)),e[t.prop]=l,Object.getOwnPropertyDescriptor(t,"descendants")&&s(0,t.descendants,t.descendants.length,l),s(r+1,n,o)}r===t.length-1&&i()};s(0,t,t.length)})(n,r),(()=>{const t=document.body;t.setAttribute("data-using-mouse",""),i("tabState",[!1]),t.addEventListener("mousedown",(()=>{t.setAttribute("data-using-mouse",""),i("tabState",[!1])}));const e=[9,"Tab"];window.focus(),t.addEventListener("keydown",(s=>{const r=s.key||s.keyCode||s.which||s.code;-1!==e.indexOf(r)&&(t.removeAttribute("data-using-mouse"),i("tabState",[!0]))}))})(),r.nav&&new class{constructor(t){if(this.outer=null,this.inner=null,this.scaleTo=[],this.maxOffset=!1,this.makeFixed=!1,this.itemToOffsetFrom=null,this.friction=1,this.buffer=null,this.transition="transform 400ms ease",this.reduceMotion=!1,this.getScales=()=>{},this.button=null,this.overflowHiddenClass="u-o-h",((t,e)=>{for(const i in e)void 0===e[i]||!1===e[i]||null===e[i]||Array.isArray(e[i])||"object"!=typeof e[i]||e[i]instanceof window.HTMLElement||e[i]instanceof window.HTMLCollection||e[i]instanceof window.NodeList||e[i]instanceof window.SVGElement?Object.getOwnPropertyDescriptor(t,i)&&(t[i]=e[i]):Object.getOwnPropertyDescriptor(t,i)&&(t[i]=Object.assign(t[i],e[i]))})(this,t),this._currentScale=1,this._currentScaleTo=1,this._scaledDown=!1,this._offsetY=0,this._resizeTimer=null,this._viewportWidth=window.innerWidth,this._open=!1,this._focusableItems=[],this._html=document.documentElement,!this._initialize())return!1}_initialize(){if(!this.button||!this.outer||!this.inner)return!1;const t=this.scaleTo.length;this.scaleTo.forEach(((e,i)=>{const s=e.width;let r=99999;t>1&&i<t-1&&(r=this.scaleTo[i+1].width),e.low=s,e.high=r})),this._setScaleTo(),this._setOffset(),this._outerHeight=this.outer.clientHeight,this._ogOuterHeight=this._outerHeight,this._setCssHeightVar(),this._setBufferHeight(),s()>=this._ogOuterHeight+this._offsetY&&(this._scaledDown=!0,this._setTransformValues(this._currentScaleTo));const e="a, area, input, select, textarea, button, [tabindex], [data-context-inert-tabindex], iframe",i=Array.from(this.outer.querySelectorAll(e));return i.length&&(this._focusableItems=Array.from(document.querySelectorAll(e)),this._focusableItems=this._focusableItems.filter((t=>-1===i.indexOf(t)))),this._scrollHandler=this._scroll.bind(this),window.addEventListener("scroll",this._scrollHandler),this._clickHandler=this._click.bind(this),this.button.addEventListener("click",this._clickHandler),this._resizeHandler=this._resize.bind(this),window.addEventListener("resize",this._resizeHandler),this._keydownHandler=this._keydown.bind(this),document.addEventListener("keydown",this._keydownHandler),!0}_getInnerScale(){return this._ogOuterHeight/this._outerHeight}_getTranslateY(t){return this._outerHeight/2-this._ogOuterHeight/2}_getTransformValues(t){this._setOuterHeight(t);const e=this._getInnerScale();return{scale:t,innerScale:e,translateY:this._getTranslateY(e)}}_setScaleTo(){this.scaleTo.forEach((t=>{this._viewportWidth>=t.low&&this._viewportWidth<t.high&&(this._currentScaleTo=t.scale)}))}_setOuterHeight(t){this._outerHeight=this._ogOuterHeight*t}_setTransformValues(e,i=!1){this._scaledDown&&e<.9?this.outer.setAttribute("data-scale","down"):this.outer.setAttribute("data-scale","default");const s=this._getTransformValues(e);s.scale===this._currentScaleTo?this.outer.setAttribute("data-scale-to",!0):this.outer.removeAttribute("data-scale-to"),i&&!this.reduceMotion?(t("transition",this.outer,this.transition),t("transition",this.inner,this.transition)):(t("transition",this.outer,""),t("transition",this.inner,"")),t("transform",this.outer,`matrix(1, 0, 0, ${s.scale}, 0, 0)`),t("transform",this.inner,`scaleY( ${s.innerScale} )`),this._html.style.setProperty("--ht-nav-t-y",s.translateY/16+"rem"),this._html.style.setProperty("--ht-nav-s",s.scale),this.getScales(s.scale,s.innerScale),this._currentScale=e}_setOffset(){this.makeFixed&&this.itemToOffsetFrom&&(this._offsetY=this.itemToOffsetFrom.offsetTop+this.itemToOffsetFrom.clientHeight)}_setFixed(t){this.makeFixed&&this.itemToOffsetFrom&&(t>=this._offsetY?this.outer.setAttribute("data-fixed",""):this.outer.removeAttribute("data-fixed"))}_setBufferHeight(){this.buffer&&(this.buffer.style.height=`${this._ogOuterHeight}px`)}_setCssHeightVar(){this._html.style.setProperty("--ht-nav-h",this._ogOuterHeight/16+"rem")}_disableScroll(t=!0){t?this._html.classList.add(this.overflowHiddenClass):this._html.classList.remove(this.overflowHiddenClass)}_toggle(t){((t=!0,e=[])=>{if(!e.length)return;const i=["BUTTON","INPUT","SELECT","TEXTAREA"];e.forEach((e=>{if(t){if(e.hasAttribute("data-context-inert-aria-hidden")&&(e.setAttribute("aria-hidden",e.getAttribute("data-context-inert-aria-hidden")),e.removeAttribute("data-context-inert-aria-hidden")),e.hasAttribute("data-context-inert-tabindex")&&(e.setAttribute("tabindex",e.getAttribute("data-context-inert-tabindex")),e.removeAttribute("data-context-inert-tabindex")),e.hasAttribute("data-context-inert-href")&&(e.setAttribute("href",e.getAttribute("data-context-inert-href")),e.removeAttribute("data-context-inert-href")),-1!==i.indexOf(e.tagName)&&e.hasAttribute("data-context-inert-disabled")){const t=e.getAttribute("data-context-inert-disabled");e.disabled="true"===t}}else{let t=e.getAttribute("aria-hidden");t||(t=!1),e.setAttribute("data-context-inert-aria-hidden",t),e.setAttribute("aria-hidden",!0),e.hasAttribute("tabindex")&&(e.setAttribute("data-context-inert-tabindex",e.getAttribute("tabindex")),e.removeAttribute("tabindex")),e.hasAttribute("href")&&(e.setAttribute("data-context-inert-href",e.getAttribute("href")),e.removeAttribute("href")),-1!==i.indexOf(e.tagName)&&(e.setAttribute("data-context-inert-disabled",e.disabled),e.disabled=!0)}}))})(!t,this._focusableItems),t?(this.outer.setAttribute("data-open",""),this.button.setAttribute("data-show","")):(this.outer.removeAttribute("data-open",""),this.button.removeAttribute("data-show","")),this.button.setAttribute("aria-expanded",t),this._disableScroll(t),this._open=t}_resize(){clearTimeout(this._resizeTimer),this._resizeTimer=setTimeout((()=>{this._viewportWidth=window.innerWidth,this._setScaleTo(),this._setOffset(),this._setFixed(s()),this._ogOuterHeight=this.outer.clientHeight,this._setCssHeightVar(),this._setBufferHeight(),s()>=this._ogOuterHeight+this._offsetY?(this._scaledDown=!0,this._setTransformValues(this._currentScaleTo)):this._scaledDown=!1}),100)}_scroll(){const t=s();this._setFixed(t);const e=t*(this._currentScaleTo/this.friction);let i=Math.abs(this._ogOuterHeight-e)/this._ogOuterHeight,r=!1;this.maxOffset&&t>this.maxOffset&&(i=this._currentScaleTo,r=!0),this.reduceMotion?t>=this._offsetY?(this._scaledDown=!0,this._setTransformValues(this._currentScaleTo,r)):(this._scaledDown=!1,this._setTransformValues(1,r)):e<=this._ogOuterHeight?i<=1&&i>=this._currentScaleTo&&(i<1&&i>=this._currentScaleTo?this._scaledDown=!0:this._scaledDown=!1,this._setTransformValues(i,r)):this._currentScale>this._currentScaleTo&&(this._scaledDown=!0,this._setTransformValues(this._currentScaleTo,r))}_click(){this._toggle(!this._open)}_keydown(t){const e=t.key||t.keyCode||t.which||t.code;-1!==[27,"Escape"].indexOf(e)&&this._open&&this._toggle(!1)}}({button:r.nav.querySelector(".c-nav__button"),outer:r.nav,inner:r.nav.firstElementChild,scaleTo:[{width:0,scale:.6},{width:900,scale:.45}],makeFixed:!0,friction:1.15,maxOffset:600,reduceMotion:e})}))})();